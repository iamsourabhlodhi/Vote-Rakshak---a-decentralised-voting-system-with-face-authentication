<!doctype html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Results</title><link rel="stylesheet" href="style.css" /></head>
<body>
  <div class="container">
    <div class="topbar">
      <div class="brand"><div class="logo">RS</div><div><div class="h-title">Election Results</div><div class="sub">Live tallies from blockchain</div></div></div>
      <div><a href="/" class="small">Home</a></div>
    </div>

    <div class="card">
      <h3>Candidates</h3>
      <div id="list" style="margin-top:12px"></div>
      <div class="footer">Refresh to get latest. Backend reads blockchain.</div>
    </div>
  </div>

<script>
async function load(){ const res = await fetch('/candidates'); const data = await res.json(); const box = document.getElementById('list'); box.innerHTML=''; if(!Array.isArray(data)||data.length===0){box.innerHTML='<div class="small">No candidates</div>';return;} data.forEach(c=>{ const el = document.createElement('div'); el.className='candidate'; el.innerHTML=`<div class="meta"><strong>${c.id}. ${c.name}</strong></div><div class="badge">${c.votes}</div>`; box.appendChild(el); }); }
load();
</script>
</body></html>
